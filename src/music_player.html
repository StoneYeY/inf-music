<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Music Player</title>
    <link rel="stylesheet" href="css/musicplayer.css">
    <link rel="icon" href="assets/icon.png" type="image/x-icon">
</head>
<body>
    <div class="container">
    <h1>Infinite Music Player</h1>
    <label id="init-label"> </label>
    <div>
        <midi-visualizer type="piano-roll" id="midi-visualizer">
        </midi-visualizer>
        <midi-player id="midi-player"
            sound-font visualizer="#midi-visualizer">
        </midi-player>
    </div>

    <div>
        <button id="reloadButton">Reload</button>
        <button id="downloadButton">Download</button>
    </div>

    <p>View code on <a href="https://github.com/zihe-zhao/music-player" target="_blank">GitHub</a>. Implemented with <a href="https://github.com/cifkao/html-midi-player" target="_blank">htmi-midi-player</a>.</p>
    
    <div id="debug">
        <hr>
        <button class="testing_button" id="switchButton">Play Tchaikovsky</button>
        <button class="testing_button" id="moveButton">Move timestamp</button>
        <p id="log">
            We are going to get rid of the buttons later. Just putting them here to show that we could:<br>
            &nbsp 1. change the midi file that is being played. The original sound file is Greig, but click button to play Tchaikovsky.<br>
            &nbsp 2. start playing at a specified timestamp. No matter how far along we are in the music, start playing at 60 seconds.<br>
            We expect these functions to come in handy later.<br><br>
            Log:<br>
        </p>
        
    </div>
    </div>
</body>
</html>

<script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.5.0"></script>
<script type="module" src="./music_player.ts"></script>